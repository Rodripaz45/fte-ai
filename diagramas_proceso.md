# Diagramas y Flujos del Proyecto FTE-AI

## 1. FLUJO GENERAL DEL SISTEMA

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Dataset CSV   â”‚
â”‚  75 registros   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   LIMPIEZA Y PREPARACIÃ“N           â”‚
â”‚  - ValidaciÃ³n de columnas          â”‚
â”‚  - Manejo de nulos                 â”‚
â”‚  - NormalizaciÃ³n de texto          â”‚
â”‚  - ConstrucciÃ³n de features        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   TRAIN/TEST SPLIT (80/20)         â”‚
â”‚  - 60 instancias: entrenamiento     â”‚
â”‚  - 15 instancias: prueba           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ENTRENAMIENTO DEL MODELO          â”‚
â”‚  - TF-IDF Vectorization            â”‚
â”‚  - OneVsRest + LogisticRegression  â”‚
â”‚  - Guardado del modelo             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SERVIDOR API (FastAPI)            â”‚
â”‚  - Carga lazy del modelo           â”‚
â”‚  - Endpoint: /analyze/profile      â”‚
â”‚  - Endpoint: /analyze/job          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   INFERENCIA EN PRODUCCIÃ“N          â”‚
â”‚  - Input: CV + talleres              â”‚
â”‚  - Output: Competencias + scores    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. PROCESO DE PREPARACIÃ“N DE DATOS

```
DATASET ORIGINAL (CSV)
â”œâ”€ cv_texto: "GestiÃ³n de cuentas por pagar..."
â”œâ”€ talleres: "contabilidad"
â””â”€ competencias: "Contabilidad"

         â”‚
         â–¼

NORMALIZACIÃ“N
â”œâ”€ MinÃºsculas: "gestiÃ³n de cuentas..."
â”œâ”€ Trim de espacios
â””â”€ Manejo de nulos

         â”‚
         â–¼

FEATURE ENGINEERING
â”œâ”€ CV: "gestiÃ³n de cuentas por pagar..."
â”œâ”€ Talleres tokenizados: " topic:contabilidad "
â””â”€ Texto combinado: "gestiÃ³n... topic:contabilidad"

         â”‚
         â–¼

BINARIZACIÃ“N (MultiLabelBinarizer)
Comp.1  Comp.2  Comp.3  ...  Comp.24
  0       1       0     ...     0
  â†‘              â†‘
â””â”€ no tiene    tiene
```

---

## 3. PIPELINE DEL MODELO

```
INPUT: Texto combinado
"gestiÃ³n de cuentas... topic:contabilidad"

         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   TF-IDF VECTORIZER            â”‚
â”‚                                 â”‚
â”‚   Entrada: String               â”‚
â”‚   Salida: Vector [0.2, 0.5,    â”‚
â”‚                 0.1, 0.8, ...] â”‚
â”‚                                 â”‚
â”‚   CaracterÃ­sticas:              â”‚
â”‚   - Unigramas + Bigramas       â”‚
â”‚   - PonderaciÃ³n TF-IDF          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MULTILABEL BINARIZER          â”‚
â”‚   (24 competencias)             â”‚
â”‚                                 â”‚
â”‚   [0, 1, 0, 0, ..., 0]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ONE-VS-REST CLASSIFIER        â”‚
â”‚                                 â”‚
â”‚   24 clasificadores binarios:   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ Clf 1: AtenciÃ³n Cliente? â”‚  â”‚
â”‚   â”‚ Clf 2: Ventas?          â”‚  â”‚
â”‚   â”‚ Clf 3: Contabilidad?    â”‚  â”‚
â”‚   â”‚ ...                     â”‚  â”‚
â”‚   â”‚ Clf 24: Legal?         â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PROBABILIDADES                 â”‚
â”‚                                 â”‚
â”‚   [0.15, 0.42, 0.88, ..., 0.03]â”‚
â”‚   â†‘         â†‘     â†‘             â”‚
â”‚   Relevancia proporcional       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   FILTRADO POR UMBRAL (0.35)    â”‚
â”‚                                 â”‚
â”‚   [N, N, Y, N, ..., N]          â”‚
â”‚   (N = bajo umbral, Y = alto)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   RESULTADO FINAL               â”‚
â”‚                                 â”‚
â”‚   Competencias detectadas:      â”‚
â”‚   - Contabilidad (0.88)         â”‚
â”‚   - Finanzas (0.42)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. ARQUITECTURA DEL SISTEMA

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   CLIENT (POSTMAN/cURL)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ HTTP POST /analyze/profile
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              FASTAPI SERVER                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Router: analyze_routes.py                   â”‚  â”‚
â”‚  â”‚   - Recibe payload                           â”‚  â”‚
â”‚  â”‚   - Valida con Pydantic                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚               â”‚                                     â”‚
â”‚               â–¼                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Service: analysis_service.py              â”‚  â”‚
â”‚  â”‚   - Extrae CV y talleres                    â”‚  â”‚
â”‚  â”‚   - Construye texto combinado               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚               â”‚                                     â”‚
â”‚               â–¼                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Model Loader: model_loader.py             â”‚  â”‚
â”‚  â”‚   (Cache con @lru_cache)                    â”‚  â”‚
â”‚  â”‚   - Carga pipeline + clases                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚               â”‚                                     â”‚
â”‚               â–¼                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   ML Pipeline: pipeline.joblib               â”‚  â”‚
â”‚  â”‚   - TF-IDF + OneVsRest(LogReg)              â”‚  â”‚
â”‚  â”‚   - PredicciÃ³n de probabilidades            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚               â”‚                                     â”‚
â”‚               â–¼                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Fallback: KEYWORDS_MAP (job_service.py)   â”‚  â”‚
â”‚  â”‚   - Si ML falla, usa diccionario de 66      â”‚  â”‚
â”‚  â”‚     keywords                                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚               â”‚                                     â”‚
â”‚               â–¼                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Response: JSON con competencias           â”‚  â”‚
â”‚  â”‚   {                                          â”‚  â”‚
â”‚  â”‚     "competencias": [...]                   â”‚  â”‚
â”‚  â”‚     "meta": {...}                           â”‚  â”‚
â”‚  â”‚   }                                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   CLIENT recibe JSON                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. FLUJO DE ENTRENAMIENTO

```
PROCESO DE ENTRENAMIENTO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1ï¸âƒ£  CARGA DE DATOS
    â”œâ”€ Leer CSV (75 filas)
    â”œâ”€ Validar columnas
    â””â”€ Filtrar nulos
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Dataset limpio          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2ï¸âƒ£  CONSTRUCCIÃ“N DE FEATURES
    â”œâ”€ build_text(): Combina CV + talleres
    â”œâ”€ Normaliza a minÃºsculas
    â””â”€ Agrega prefijo "topic:" a talleres
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ X_text: Lista de textos â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

3ï¸âƒ£  PREPARACIÃ“N DE ETIQUETAS
    â”œâ”€ Split competencias por comas
    â”œâ”€ MultiLabelBinarizer
    â””â”€ Matriz binaria Y
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Y: Matriz (75 x 24)     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

4ï¸âƒ£  TRAIN/TEST SPLIT
    â”œâ”€ 80% train (60 instancias)
    â”œâ”€ 20% test (15 instancias)
    â””â”€ random_state=42
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   X_train  â”‚   X_test   â”‚
    â”‚   y_train  â”‚   y_test   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

5ï¸âƒ£  ENTRENAMIENTO
    â”œâ”€ Pipeline.fit(X_train, y_train)
    â”œâ”€ TF-IDF + LogisticRegression
    â””â”€ 24 clasificadores binarios
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Modelo entrenado        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

6ï¸âƒ£  EVALUACIÃ“N
    â”œâ”€ y_pred = pipeline.predict(X_test)
    â”œâ”€ classification_report
    â””â”€ Matriz de confusiÃ³n
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ MÃ©tricas por competencia â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

7ï¸âƒ£  SERIALIZACIÃ“N
    â”œâ”€ artifact = {pipeline, classes}
    â”œâ”€ joblib.dump(artifact)
    â””â”€ Guardar en models/
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ pipeline.joblib         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. EJEMPLO DE PREDICCIÃ“N

```
INPUT DEL CLIENTE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
{
  "participanteId": "P001-2024",
  "cvTexto": "Experiencia en Excel y anÃ¡lisis de datos",
  "talleres": [
    {"tema": "Excel", "asistencia_pct": 0.85}
  ]
}

PROCESAMIENTO INTERNO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
1. Construir texto:
   "experiencia en excel y anÃ¡lisis de datos topic:excel"

2. TF-IDF vectorization:
   [0.12, 0.45, 0.31, 0.78, ..., 0.02]
   â””â”€ Valores TF-IDF por tÃ©rmino

3. PredicciÃ³n ML:
   Probabilidades por competencia:
   AtenciÃ³n al Cliente:  0.15
   OfimÃ¡tica:            0.82  â† Alta
   AnalÃ­tica de Datos:   0.65  â† Alta
   Ventas:               0.23
   ...

4. Filtrar por umbral (0.35):
   âœ… OfimÃ¡tica: 0.82
   âœ… AnalÃ­tica de Datos: 0.65

OUTPUT AL CLIENTE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
{
  "participanteId": "P001-2024",
  "competencias": [
    {
      "competencia": "OfimÃ¡tica",
      "nivel": 82.0,
      "confianza": 0.9,
      "fuente": ["ml"]
    },
    {
      "competencia": "AnalÃ­tica de Datos",
      "nivel": 65.0,
      "confianza": 0.9,
      "fuente": ["ml"]
    }
  ],
  "meta": {
    "mode": "ml",
    "threshold": "0.35"
  }
}
```

---

## 7. SISTEMA HÃBRIDO (ML + Keywords)

```
NUEVA PETICIÃ“N
â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Intentar con ML                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
         â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
         â”‚           â”‚
    âœ“ Funciona  âœ— Falla
         â”‚           â”‚
         â–¼           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RESULTADO ML â”‚ â”‚   FALLBACK   â”‚
â”‚              â”‚ â”‚   KEYWORDS   â”‚
â”‚  [0.82]      â”‚ â”‚              â”‚
â”‚  [0.65]      â”‚ â”‚  Diccionario  â”‚
â”‚              â”‚ â”‚  66 keywords â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚           â”‚
         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
               â”‚
         â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
         â”‚           â”‚
    Â¿Combinar?   Â¿Solo uno?
         â”‚           â”‚
         â–¼           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ COMBINACIÃ“N  â”‚ â”‚  RESULTADO   â”‚
â”‚ ML + Keywordsâ”‚ â”‚   ÃšNICO      â”‚
â”‚ (sin dups)   â”‚ â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚           â”‚
         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ JSON OUTPUT  â”‚
        â”‚ (con fuente) â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8. MÃ‰TRICAS Y EVALUACIÃ“N

```
CLASSIFICATION REPORT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                    precision    recall  f1-score   support

AtenciÃ³n Cliente       0.XX      0.XX     0.XX         X
Ventas                 0.XX      0.XX     0.XX         X
Contabilidad           0.XX      0.XX     0.XX         X
...

micro avg              0.XX      0.XX     0.XX        XXX
macro avg              0.XX      0.XX     0.XX         X
weighted avg           0.XX      0.XX     0.XX        XXX

INTERPRETACIÃ“N
â•â•â•â•â•â•â•â•â•â•â•â•â•â•
- precision: De las predicciones positivas, cuÃ¡ntas son correctas
- recall: De los casos reales positivos, cuÃ¡ntos detectÃ³
- f1-score: Balance entre precision y recall
- support: NÃºmero de instancias en test set por clase
```

---

## 9. COMPARACIÃ“N: ENFOQUE MANUAL vs ML

```
ENFOQUE MANUAL (Reglas hardcoded)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Input: "Experiencia en Excel y anÃ¡lisis de datos"

â†“

if "excel" in texto:
    agregar_competencia("Excel")
if "anÃ¡lisis" in texto and "datos" in texto:
    agregar_competencia("AnalÃ­tica de Datos")

â†“

Output: ["Excel", "AnalÃ­tica de Datos"]

LIMITACIONES:
- No captura sinÃ³nimos
- Reglas rÃ­gidas
- No aprende de contexto
- DifÃ­cil de mantener


ENFOQUE ML (Aprendizaje)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Input: "Experiencia en Excel y anÃ¡lisis de datos"

â†“

TF-IDF â†’ Vectores numÃ©ricos
OneVsRest â†’ 24 clasificadores
Predict_proba â†’ [0.02, 0.82, 0.65, ...]

â†“

Filtrado por umbral (0.35)
Ordenamiento por probabilidad

â†“

Output: [
    {competencia: "AnalÃ­tica de Datos", nivel: 0.65},
    {competencia: "OfimÃ¡tica", nivel: 0.82}
]

VENTAJAS:
- Aprende patrones automÃ¡ticamente
- Captura sinÃ³nimos y contexto
- Probabilidades cuantificables
- Se adapta a nuevos datos
```

---

## 10. RESUMEN DE COMPONENTES

```
COMPONENTES DEL PROYECTO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š DATASET
   â”œâ”€ 75 instancias
   â”œâ”€ 24 competencias
   â””â”€ 3 columnas (cv_texto, talleres, competencias)

ğŸ§¹ PREPROCESAMIENTO
   â”œâ”€ NormalizaciÃ³n de texto
   â”œâ”€ Feature engineering
   â”œâ”€ BinarizaciÃ³n multi-label
   â””â”€ Train/test split (80/20)

ğŸ¤– MODELO ML
   â”œâ”€ TfidfVectorizer (ngrams 1-2)
   â”œâ”€ OneVsRestClassifier
   â”œâ”€ LogisticRegression (balanced)
   â””â”€ Pipeline completo

ğŸ’¾ PERSISTENCIA
   â”œâ”€ joblib serialization
   â”œâ”€ Cache con @lru_cache
   â””â”€ Lazy loading

ğŸŒ API
   â”œâ”€ FastAPI server
   â”œâ”€ Endpoints REST
   â”œâ”€ ValidaciÃ³n Pydantic
   â””â”€ JSON responses

ğŸ”„ FALLBACK
   â”œâ”€ Keywords mapping (66)
   â”œâ”€ Sistema hÃ­brido
   â””â”€ Transparencia de fuentes

âš™ï¸ CONFIGURACIÃ“N
   â”œâ”€ Variables de entorno
   â”œâ”€ Umbral configurable
   â””â”€ Logs y mÃ©tricas
```


